@model IEnumerable<BabyStore.Models.Product>

@using PagedList.Mvc
@using BabyStore.Views.Shared
@{
    ViewBag.Title = "Home Page";
   
}
<style> 
.hide-bullets {
list-style:none;
margin-left: -40px;
margin-top:20px;
}
</style>
<div style="margin-top:-20px;">

    @if (SiteResource.Language == "عربي")
    {

        <div class="nav navbar-btn tab-pane col-xs-12" style="border-collapse:separate;">
            @foreach (var category in Model.Select(r => r.Category).Distinct())
            {

                <div class="dropdown">

                    <button class="dropdown-toggle" data-toggle="dropdown" style="float:right;">@category.Name</button>

                    <div class="dropdown-menu" style="width:100%; margin-top: 32px;">
                        <div class="row">
                            @foreach (var sub in Model.Where(r => category.ID == r.CategoryID))
                            {


                                <div class="col-md-3 col-ms-6 col-xs-6">
                                    <div class="thumbnail">
                                        <img src="~/Images/@sub.productImg" class="thumbnail" style="width:200px; height:188px; border-image-slice:fill;" />

                                        <br /> <center>@Html.ActionLink(sub.SubCategory.SubCategoryName, "Index", "SubCategories", new { @style = "text-align:center;" }, null)</center>

                                        <br /> <p style="overflow-wrap: break-word; text-align:center;">@sub.Description</p>
                                    </div>
                                </div>
                            }
                        </div>

                    </div>

                </div>
            }


        </div>
    }
    else
    {
        <div class="nav navbar-btn tab-pane col-xs-12" style="border-collapse:collapse;">


            @foreach (var category in Model.Select(r => r.Category).Distinct())
            {
                <div class="dropdown">

                    <button class="dropdown-toggle w3-white w3-border w3-border-blue" data-toggle="dropdown" style=" float:left; margin-left:auto; margin-right:auto;">@category.Name</button>
                    <div class=" dropdown-menu" style="width:100%; margin-top: 32px;">
                        &nbsp;
                        <div class="row">
                            @foreach (var sub in Model.Where(r => category.ID == r.CategoryID))
                            {


                                <div class="col-md-3 col-ms-6 col-xs-6">
                                    <div class=" thumbnail">
                                        <img src="~/Images/@sub.productImg" class="thumbnail" style="width:150px; height:188px; border-image-slice:fill;" />

                                        <br /> <center>@Html.ActionLink(sub.SubCategory.SubCategoryName, "Index", "SubCategories", new { @style = "text-aling:center;" }, null)</center>

                                        <br /><p style="overflow-wrap:break-word; text-align:center;">@sub.Description</p>
                                    </div>
                                </div>

                            }
                        </div>

                    </div>

                </div>
            }


        </div>

    }
</div>

<hr />

<div class="container">
    <div id="main_area">
        <!-- Slider -->
        <div class="row">
            <div class="col-xs-12" id="slider">
                <!-- Top part of the slider -->
                <div class="row">
                    <div class="col-sm-8" id="carousel-bounding-box">
                        <div class="carousel slide" id="myCarousel">
                            <!-- Carousel items -->
                            <div class="carousel-inner" style="background-color: #000;">
                                @{int count = 0;}
                         @foreach (var item in Model.Take(15))
                              {
                                  


                              if (@item.productImg != null)
                                  { 
                                  if(count==0)
                                  { 
                                <div class="active item" data-slide-number="@count">

                                    <img src="~/Images/@item.productImg"/>
                                </div>
                                  }
                                  else
                                  {
                                    <div class="item" data-slide-number="@count">

                                        <img src="~/Images/@item.productImg" />
                                    </div>
                                  }
                                  count++;
                                  }
                              }
                               

                            <!-- Carousel nav -->
                            <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
                                <span class="glyphicon glyphicon-chevron-left"></span>
                            </a>
                            <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
                                <span class="glyphicon glyphicon-chevron-right"></span>
                            </a>
                        </div>
                    </div>
                    </div>
                    <div class="col-sm-4" id="carousel-text"></div>

                    <div id="slide-content" style="display: none;">
                        <div id="slide-content-0">
                            <h2>Slider One</h2>
                            <p>Lorem Ipsum Dolor</p>
                            <p class="sub-text">October 24 2019 - <a href="#">Read more</a></p>
                        </div>

                        <div id="slide-content-1">
                            <h2>Slider Two</h2>
                            <p>Lorem Ipsum Dolor</p>
                            <p class="sub-text">October 24 2019 - <a href="#">Read more</a></p>
                        </div>

                        <div id="slide-content-2">
                            <h2>Slider Three</h2>
                            <p>Lorem Ipsum Dolor</p>
                            <p class="sub-text">October 24 2019 - <a href="#">Read more</a></p>
                        </div>

                        <div id="slide-content-3">
                            <h2>Slider Four</h2>
                            <p>Lorem Ipsum Dolor</p>
                            <p class="sub-text">October 24 2014 - <a href="#">Read more</a></p>
                        </div>

                        <div id="slide-content-4">
                            <h2>Slider Five</h2>
                            <p>Lorem Ipsum Dolor</p>
                            <p class="sub-text">October 24 2014 - <a href="#">Read more</a></p>
                        </div>

                        <div id="slide-content-5">
                            <h2>Slider Six</h2>
                            <p>Lorem Ipsum Dolor</p>
                            <p class="sub-text">October 24 2014 - <a href="#">Read more</a></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
           
        <!--/Slider-->
        <br />
        <hr />

        <div class="card-header"> جديدنا</div>
     
            <div class="row " >
               

                   <!-- Bottom switcher of slider -->

              
                    <div class="col">
                        @{var a = 0;}
                        @foreach (var item in Model.Take(12))
                        {

                            if (@item.productImg != null)
                            {

                                <div class="card mb-3 col-md-3 col-xs-6 " style="border-bottom-left-radius:5px 5px 5px 5px;">
                                    <div class='card-body'>

                                        <a href="@Url.Action("Details","Products", new{id= item.ID})" id="carousel-selector-@a">

                                            <img src="~/Images/@item.productImg" class="cart-img-top" style="height:180px; width:130px; " />


                                        </a>

                                    </div>
                                    <div class="card-body">
                                        <h4 class="cart-title">
                                            @Html.ActionLink(item.SubCategory.SubCategoryName, "Details", "Products", new { id = item.ID }, null)
                                        </h4>
                                        <p class="cart-text">
                                            $ @item.Price
                                        </p>
                                        <p class="cart-text" style="text-decoration: line-through;">
                                            $ @item.BuyPrice
                                        </p>
                                    </div>
                                </div>

                            }
                            a++;
                        }
                    </div>
                


            </div>
        </div>

    </div>
   <div class="row">
    <div class="col-md-12 col-xs-12" style="margin-top:25px;">
        @Html.ActionLink(SiteResource.ShopNow, "Index", "Products", null, new { @class = "btn btn-info lag" })
    </div>
</div>

<div class="carousel">

    @Html.Action("BestSeller", "Home")

</div>

<!--<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">-->
@section Scripts
     {

    <script type="text/javascript">

        jQuery(document).ready(function ($) {
            //set here the speed to change the slides in the carousel
            $('#myCarousel').carousel({
                interval: 5000
            });

            //Loads the html to each slider. Write in the "div id="slide-content-x" what you want to show in each slide
            $('#carousel-text').html($('#slide-content-0').html());

            //Handles the carousel thumbnails
            $('[id^=carousel-selector-]').click(function () {
                var id = this.id.substr(this.id.lastIndexOf("-") + 1);
                var id = parseInt(id);
                $('#myCarousel').carousel(id);
            });


            // When the carousel slides, auto update the text
            $('#myCarousel').on('slid.bs.carousel', function (e) {
                var id = $('.item.active').data('slide-number');
                $('#carousel-text').html($('#slide-content-' + id).html());
            });
        });


    </script>

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>


}
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<!--<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>-->
